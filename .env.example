# Конфигурация панели Cursor Mass Register
# Скопируйте этот файл в .env и измените значения!

# Порт сервера
PORT=3000

# Секретный ключ для сессий (ОБЯЗАТЕЛЬНО измените на случайную строку!)
SESSION_SECRET=change-me-to-random-32-character-string

# Логин/пароль для входа в панель
ADMIN_USERNAME=admin
ADMIN_PASSWORD=change_this_password

# Настройки Puppeteer
# true = без интерфейса, false = с окном браузера
HEADLESS=true

# Задержка между действиями в браузере (мс)
SLOW_MO=50

# Задержка между регистрациями (мс)
REGISTER_DELAY=10000

# Максимум попыток при ошибке
MAX_RETRIES=3

# Таймаут для операций (мс)
TIMEOUT=60000

# Прокси (опционально, формат: http://user:pass@host:port)
# Несколько прокси через запятую для ротации
# PROXY_LIST=http://user:pass@proxy1.com:8080,http://proxy2.com:3128

# ==========================================
# FlareSolverr - Обход Cloudflare защиты
# ==========================================
# Включить/выключить FlareSolverr (true/false)
FLARESOLVERR_ENABLED=false

# URL FlareSolverr сервера
# Локально: http://localhost:8191/v1
# Docker Compose: http://flaresolverr:8191/v1
# Удалённо: http://YOUR_SERVER_IP:8191/v1
FLARESOLVERR_URL=http://localhost:8191/v1

# Установка FlareSolverr:
# docker run -d --name=flaresolverr -p 8191:8191 ghcr.io/flaresolverr/flaresolverr:latest

# ==========================================
# IMAP - Автоматическое чтение почты
# ==========================================
# Настройки IMAP сервера (Beget по умолчанию)
IMAP_HOST=imap.beget.com
IMAP_PORT=993
IMAP_TLS=true

# Пароль от почтовых аккаунтов @вашдомен.ru
# Все почтовые аккаунты должны иметь одинаковый пароль (или оставьте пустым)
MAIL_PASSWORD=

# Включить автоматическую верификацию email (true/false)
# Если включено - панель будет ждать письмо от Cursor и вводить код автоматически
MAIL_VERIFICATION_ENABLED=false

# Таймаут ожидания письма (мс, по умолчанию 2 минуты)
MAIL_WAIT_TIMEOUT=120000

# Интервал проверки почты (мс, по умолчанию 5 секунд)
MAIL_CHECK_INTERVAL=5000

# ==========================================
# TOKEN API - Для локального ротатора
# ==========================================
# Секретный ключ для API ротации токенов
# Используется локальным скриптом local-rotator для получения токенов
# Придумайте сложный ключ и укажите такой же в local-rotator/.env
TOKEN_API_KEY=your-secret-api-key-for-token-rotation

# ==========================================
# CAPTCHA - Режим ручного решения капчи
# ==========================================
# Если капча не решается автоматически, включите этот режим
# и решайте капчу вручную через VNC

# Включить режим ожидания ручного решения капчи (true/false)
CAPTCHA_WAIT_MODE=false

# Таймаут ожидания ручного решения (секунды)
CAPTCHA_WAIT_TIMEOUT=300

# ==========================================
# VNC - Для отладки браузера на сервере
# ==========================================
# VNC Host (адрес VNC сервера)
VNC_HOST=localhost

# VNC Port (порт VNC сервера, обычно 5900)
VNC_PORT=5900

# VNC Password (пароль для подключения, если есть)
VNC_PASSWORD=

# ==========================================
# Инструкция по настройке VNC на сервере:
# ==========================================
# 
# ВАРИАНТ 1: Встроенный VNC Viewer (РЕКОМЕНДУЕТСЯ)
# ------------------------------------------------
# Теперь вы можете смотреть браузер прямо в веб-панели!
# Перейдите на страницу: http://your-server:3000/vnc
#
# Настройка сервера:
# 1. Установите пакеты:
#    apt install -y xvfb x11vnc fluxbox
#
# 2. Запустите виртуальный дисплей:
#    Xvfb :99 -screen 0 1920x1080x24 &
#    export DISPLAY=:99
#
# 3. Запустите простой оконный менеджер:
#    fluxbox &
#
# 4. Запустите VNC сервер:
#    x11vnc -display :99 -forever -nopw -listen 0.0.0.0 -xkb -rfbport 5900 &
#
# 5. В .env установите:
#    VNC_HOST=localhost
#    VNC_PORT=5900
#    HEADLESS=false
#
# 6. Откройте в браузере: http://your-server:3000/vnc
#
# ВАРИАНТ 2: Внешний VNC клиент
# -----------------------------
# Подключитесь к IP:5900 через TightVNC, RealVNC или другой VNC клиент.
#
# Автозапуск через systemd:
# -------------------------
# Создайте /etc/systemd/system/xvfb.service и /etc/systemd/system/x11vnc.service
# Смотрите файл VNC_SETUP.md для подробной инструкции
