# üîÑ CLINE Token Rotator

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–æ—Ç–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤ CLINE –≤ VS Code –ø—Ä–∏ –Ω–∏–∑–∫–æ–º –±–∞–ª–∞–Ω—Å–µ.

## üìã –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç

1. **–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –±–∞–ª–∞–Ω—Å** —Ç–µ–∫—É—â–µ–≥–æ —Ç–æ–∫–µ–Ω–∞ CLINE —á–µ—Ä–µ–∑ API
2. **–ï—Å–ª–∏ –±–∞–ª–∞–Ω—Å <= 0** - –±–µ—Ä—ë—Ç –Ω–æ–≤—ã–π —Ç–æ–∫–µ–Ω –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –ø–∞–Ω–µ–ª–∏
3. **–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –Ω–æ–≤—ã–π —Ç–æ–∫–µ–Ω** –≤ VS Code SecretStorage
4. **–ü–æ–º–µ—á–∞–µ—Ç –∞–∫–∫–∞—É–Ω—Ç** –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–π

## üõ† –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
cd token-rotator
npm install
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env –ø–æ–¥ —Å–≤–æ–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
```

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Node.js 18+
- Windows (–¥–ª—è —Ä–∞–±–æ—Ç—ã —Å keytar/SecretStorage)
- VS Code —Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º CLINE

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –†–∞–∑–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏ —Ä–æ—Ç–∞—Ü–∏—è

```bash
npm start
# –∏–ª–∏
node rotator.js
```

### –¢–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞ (–±–µ–∑ —Ä–æ—Ç–∞—Ü–∏–∏)

```bash
npm run check
# –∏–ª–∏
node rotator.js --check-only
```

### –ó–∞–ø—É—Å–∫ –¥–µ–º–æ–Ω–∞ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞)

```bash
npm run daemon
# –∏–ª–∏
node daemon.js
```

–î–µ–º–æ–Ω –±—É–¥–µ—Ç –ø—Ä–æ–≤–µ—Ä—è—Ç—å –±–∞–ª–∞–Ω—Å –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ .env).

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–°–æ–∑–¥–∞–π—Ç–µ `.env` —Ñ–∞–π–ª (–∏–ª–∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ `.env.example`):

```env
# URL –ø–∞–Ω–µ–ª–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
PANEL_URL=http://109.172.37.69:3000

# –õ–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å –ø–∞–Ω–µ–ª–∏
PANEL_USERNAME=admin
PANEL_PASSWORD=admin123

# –ü—É—Ç—å –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –ø–∞–Ω–µ–ª–∏
DB_PATH=../db.sqlite

# –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å –¥–ª—è —Ç—Ä–∏–≥–≥–µ—Ä–∞ —Ä–æ—Ç–∞—Ü–∏–∏
MIN_BALANCE=0.1

# –ò–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏ (–º—Å), –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 5 –º–∏–Ω—É—Ç
CHECK_INTERVAL=300000
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
token-rotator/
‚îú‚îÄ‚îÄ rotator.js      # –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç —Ä–æ—Ç–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ daemon.js       # –§–æ–Ω–æ–≤—ã–π –¥–µ–º–æ–Ω
‚îú‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ .env.example
‚îî‚îÄ‚îÄ README.md
```

## üîß –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –•—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ CLINE

CLINE –∏—Å–ø–æ–ª—å–∑—É–µ—Ç VS Code SecretStorage (keytar) –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞:
- **–°–µ—Ä–≤–∏—Å**: `saoudrizwan.claude-dev`
- **–ê–∫–∫–∞—É–Ω—Ç**: `clineApiKey`

–°–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫—É `keytar` –¥–ª—è —á—Ç–µ–Ω–∏—è/–∑–∞–ø–∏—Å–∏ —Ç–æ–∫–µ–Ω–∞.

### API CLINE

–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –±–∞–ª–∞–Ω—Å–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:
```
GET https://api.cline.bot/api/user
Authorization: Bearer <token>
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø–∞–Ω–µ–ª—å—é

–°–∫—Ä–∏–ø—Ç —á–∏—Ç–∞–µ—Ç —Ç–æ–∫–µ–Ω—ã –∏–∑ SQLite –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –ø–∞–Ω–µ–ª–∏ (db.sqlite).
–¢–∞–±–ª–∏—Ü–∞ `accounts` –¥–æ–ª–∂–Ω–∞ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ø–æ–ª—è:
- `cline_token` - —Ç–æ–∫–µ–Ω CLINE
- `cline_balance` - –±–∞–ª–∞–Ω—Å
- `used` - —Ñ–ª–∞–≥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

1. **–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ VS Code** - –ø–æ—Å–ª–µ —Å–º–µ–Ω—ã —Ç–æ–∫–µ–Ω–∞ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å VS Code
2. **Windows only** - keytar —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ Windows —á–µ—Ä–µ–∑ Credential Manager
3. **–û–¥–∏–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä** - –Ω–µ –∑–∞–ø—É—Å–∫–∞–π—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–ø–∏–π –¥–µ–º–æ–Ω–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ

## üêõ Troubleshooting

### "–¢–æ–∫–µ–Ω –Ω–µ –Ω–∞–π–¥–µ–Ω"
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ CLINE —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
- –¢–æ–∫–µ–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ VS Code SecretStorage

### "–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –Ω–∞–π–¥–µ–Ω–∞"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç—å DB_PATH –≤ .env
- –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø–∞–Ω–µ–ª—å —á—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å db.sqlite

### –û—à–∏–±–∫–∏ keytar
```bash
npm rebuild keytar
```

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT
